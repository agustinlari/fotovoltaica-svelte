create table public."Camiones" (
  id bigint generated by default as identity not null,
  "DNI" text null,
  "Matricula" text null,
  "UbicacionCampa" text null,
  "FechaDescarga" timestamp with time zone null,
  "Container" text null,
  "Albaran" text null,
  "NombreConductor" text null,
  updated_at timestamp with time zone null default now(),
  constraint Camiones_pkey primary key (id)
) TABLESPACE pg_default;

create trigger trigger_actualizar_updated_at BEFORE
update on "Camiones" for EACH row
execute FUNCTION actualizar_updated_at ();

create table public."Camiones" (
  id bigint generated by default as identity not null,
  "DNI" text null,
  "Matricula" text null,
  "UbicacionCampa" text null,
  "FechaDescarga" timestamp with time zone null,
  "Container" text null,
  "Albaran" text null,
  "NombreConductor" text null,
  updated_at timestamp with time zone null default now(),
  constraint Camiones_pkey primary key (id)
) TABLESPACE pg_default;

create trigger trigger_actualizar_updated_at BEFORE
update on "Camiones" for EACH row
execute FUNCTION actualizar_updated_at ();

create table public."Estructura" (
  id bigint generated by default as identity not null,
  "DNI" text null,
  "Conductor" text null,
  "Matricula" text null,
  "Proveedor" text null,
  "PackingList" text null,
  "Albaran" text null,
  modified_at timestamp with time zone null default now(),
  "FechaDescarga" timestamp with time zone null,
  constraint Estructura_pkey primary key (id)
) TABLESPACE pg_default;

create table public."Pallets" (
  id text not null,
  "Descarga" bigint null,
  "Defecto" boolean null,
  updated_at timestamp with time zone null default now(),
  constraint Pallets_pkey primary key (id),
  constraint Pallets_SN_key unique (id),
  constraint Pallets_Descarga_fkey foreign KEY ("Descarga") references "Camiones" (id) on update CASCADE on delete set null
) TABLESPACE pg_default;

create trigger trigger_actualizar_updated_at BEFORE
update on "Pallets" for EACH row
execute FUNCTION actualizar_updated_at ();

create table public."Paneles" (
  "SN" text not null,
  "Potencia" double precision null,
  "SNPallet" text null,
  constraint Paneles_pkey primary key ("SN"),
  constraint Paneles_SN_key unique ("SN"),
  constraint Paneles_SNPallet_fkey foreign KEY ("SNPallet") references "Pallets" (id) on update CASCADE on delete RESTRICT
) TABLESPACE pg_default;